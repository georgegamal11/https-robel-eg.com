# ๐ง ุญู ูุดููุฉ ุงูุงุชุตุงู ุจูู Firebase ู Cloudflare

## ๐ ุงููุดููุฉ
ููุช ุจุฅููุงู Firebase ูุชุจุฏููู ุจู Cloudflare D1ุ ููู ุงููููุน ูุง ูุนุฑุถ ุฃู ุจูุงูุงุช.

## โ ุงูุญู - ุฎุทูุงุช ุณุฑูุนุฉ

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุญูู ูู ูุดุฑ Worker
```bash
wrangler deploy
```
ูุฐุง ุณููุดุฑ API Worker ุนูู Cloudflare.

### ุงูุฎุทูุฉ 2๏ธโฃ: ุนูููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
node scripts/seed-database.js
```
ูุฐุง ุงูุณูุฑูุจุช ุณูููู ุจู:
- โ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุจู Worker
- โ ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุญููู ุงูุจูุงูุงุช ุงูุฃูููุฉ

### ุงูุฎุทูุฉ 3๏ธโฃ: ุงูุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ
ุงุฐูุจ ุฅูู ุงููููุน ูุงุถุบุท:
- **Ctrl + Shift + Delete** - ููุณุญ localStorage ู sessionStorage
- ุฃู ุงูุชุญ ุงููุชุตูุญ ุจู Incognito Mode

### ุงูุฎุทูุฉ 4๏ธโฃ: ุชุญูู ูู ุธููุฑ ุงูุจูุงูุงุช
ุงูุชุธุฑ 5 ุซูุงูู ูุชุญุฏูุซ ุงูุตูุญุฉ (F5)

---

## ๐๏ธ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ ููุชุดุฎูุต

### ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:
```
https://robel-api.george-gamal139.workers.dev/api/projects
https://robel-api.george-gamal139.workers.dev/api/buildings
https://robel-api.george-gamal139.workers.dev/api/stats
```

### ุญุฐู ุงูุจูุงูุงุช (ููุฅุนุงุฏุฉ ูู ุฌุฏูุฏ):
```
POST: /api/wipe-units  (with auth key)
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### โ ุงููููุน ูุง ูุฒุงู ูุงุฑุบุ

1. **ุงูุชุญ ุงุณุชูุตุงุก ุงููุชุตูุญ** (F12)
   - ุงุฐูุจ ุฅูู Network ุฃู Console
   - ุฌุญุซ ุนู ุฃุฎุทุงุก "Failed to fetch"

2. **ุชุญูู ูู ุนููุงู Worker**
   - ุงูุชุญ: `public/firebase/firebase-queries.js`
   - ุงุจุญุซ ุนู `CLOUDFLARE_WORKER_URL`
   - ุชุฃูุฏ ุฃููุง: `https://robel-api.george-gamal139.workers.dev`

3. **ุชุญูู ูู ููู ุงูุฅุนุฏุงุฏุงุช**
   ```javascript
   // ูู firebase-queries.js
   const CLOUDFLARE_WORKER_URL = "https://robel-api.george-gamal139.workers.dev";
   ```

### โ ุฎุทุฃ "Auth failed"ุ
- ุชุฃูุฏ ูู ุฑุณุงูุฉ ุงูุฎุทุฃ:
- ูุฏ ุชููู ููุงู ูุดููุฉ ูู `Authorization` header
- ุชุญูู ูู `AUTH_KEY` ูู worker.js

### โ ูุง ูููู ุงูุงุชุตุงู ุจู Workerุ
```bash
# ุชุญูู ูู ุญุงูุฉ ุงูุชุทุจูู
wrangler status

# ุฃุนุฏ ุงููุดุฑ
wrangler deploy --env production
```

---

## ๐ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```sql
-- 3 ุฌุฏุงูู ุฑุฆูุณูุฉ
1. projects   (ุงููุดุงุฑูุน)
2. buildings  (ุงููุจุงูู)
3. units      (ุงููุญุฏุงุช)
```

ุงูุจูุงูุงุช ุชูุญูู ูู `seed_data.sql`

---

## ๐ ุจุฏุก ุณุฑูุน (ููุฎุต)

```bash
# 1. ุงูุชูู ุฅูู ุงููุดุฑูุน
cd "c:\Users\georg\OneDrive\Desktop\ุชุบูุฑ ูุงุนุฏุฉ ุจูุงูุงุช cloudflair5"

# 2. ูุดุฑ Worker
npm install
wrangler deploy

# 3. ุชุญููู ุงูุจูุงูุงุช
npm run seed-database

# 4. ุงูุชุญ ุงููููุน (F5)
```

---

## ๐ง ูุนูููุงุช ูููุฉ

**ุนููุงู API Worker:**
```
https://robel-api.george-gamal139.workers.dev
```

**ููุชุงุญ ุงูุชูุซูู (Auth Key):**
```
ROBEL_SECURE_SYNC_2025
```

**ูุงุนุฏุฉ ุงูุจูุงูุงุช D1:**
```
Database: robel
ID: b09c934f-5980-425f-bcdf-201f0157939a
```

---

## โจ ุจุนุฏ ุงูุฅุตูุงุญ

ูุฌุจ ุฃู ุชุฑู:
- โ ุซูุงุซุฉ ูุดุงุฑูุน (Porto Golf Marina, Porto Said, Celebration)
- โ ุนุฏุฉ ูุจุงูู ููู ูุดุฑูุน
- โ ุจูุงูุงุช ุงููุญุฏุงุช ุนูุฏ ุงุฎุชูุงุฑ ูุดุฑูุน
- โ ุตูุฑ ุงููุดุงุฑูุน ูุงููุจุงูู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุงุทูุจ ูุณุงุนุฏุฉ! ๐
