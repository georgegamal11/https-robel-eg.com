@echo off
chcp 65001 >nul
REM =====================================================
REM  Robel API - ูุดุฑ ูุงูุจุฐุฑ ูู ุฎุทูุฉ ูุงุญุฏุฉ
REM =====================================================

echo.
echo ๐ ุจุฏุก ุนูููุฉ ุงูุฅุนุฏุงุฏ ูุงููุดุฑ...
echo =====================================================
echo.

REM ุชุญูู ูู ูุฌูุฏ Node.js
node --version >nul 2>&1
if errorlevel 1 (
    echo โ Node.js ุบูุฑ ูุซุจุช! ูุฑุฌู ุชุซุจูุชู ุฃููุงู
    pause
    exit /b 1
)

REM 1. ูุดุฑ Worker
echo 1๏ธโฃ ูุดุฑ Cloudflare Worker...
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
call wrangler deploy
if errorlevel 1 (
    echo โ ูุดู ุงููุดุฑ. ุชุญูู ูู:
    echo    - ูุฌูุฏ ุญุณุงุจ Cloudflare ุตุญูุญ (wrangler login)
    echo    - ุงุชุตุงู ุงูุฅูุชุฑูุช
    pause
    exit /b 1
)
echo โ ุชู ุงููุดุฑ ุจูุฌุงุญ
echo.

REM ุงูุชุธุฑ ููููุงู
timeout /t 3 /nobreak

REM 2. ุชุญููู ุงูุจูุงูุงุช
echo 2๏ธโฃ ุชุญููู ุงูุจูุงูุงุช ุงูุฃูููุฉ...
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโ
node scripts/seed-database.js
if errorlevel 1 (
    echo โ ูุดู ุชุญููู ุงูุจูุงูุงุช
    pause
    exit /b 1
)
echo.

REM 3. ุงูุชุนูููุงุช ุงูููุงุฆูุฉ
echo.
echo โ ุงูุชูู ุงูุฅุนุฏุงุฏ!
echo =====================================================
echo ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ:
echo    1. ุงูุชุญ ุงููููุน ูู ุงููุชุตูุญ
echo    2. ุงุถุบุท Ctrl+Shift+Delete ููุณุญ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ
echo    3. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (Ctrl+R)
echo.
echo ๐ ุฑุงุจุท ุงููููุน:
echo    https://your-domain.com
echo.
echo ๐ ุฑุงุจุท API ููุงุฎุชุจุงุฑ:
echo    https://robel-api.george-gamal139.workers.dev/api/projects
echo.
echo =====================================================
pause
